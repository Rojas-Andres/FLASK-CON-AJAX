<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>hola</h1>
    
    <form id="formulario" action="">

        <div>
            <label for="nombre">Nombre</label>
            <input type="text" id="nombre" >
        </div>
        <div>
            <label for="correo">Correo</label>
            <input type="email" id="correo" >
        </div>
        <div>
            <label for="telefono">Telefono</label>
            <input type="number" id="telefono" >
        </div>
        <button type="submit">Enviar Datos</button>
    </form>
    
    <div id="loader" style="display: none;">
        <img src="../static/cargando.gif" alt="">
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript">
        $('#formulario').on('submit',function(event){
            event.preventDefault();
            console.log("ENTRE")
            $.ajax({
                type:'POST',
                url:'/enviaDatos',
                data:{
                    nombre:$('#nombre').val(),
                    correo:$('#correo').val(),
                    telefono:$('#telefono').val()
                },
                beforeSend:function(){
                    console.log("ENVIANDO REQUEST........")
                    $("#loader").show();

                },
                success:function(response){
                    console.log("EXITOSO");
                    $("#loader").hide();
                },
                error:function(reponse){
                    alert("erroneo")
                }

            })
        })
    </script>
    
</body>
</html>